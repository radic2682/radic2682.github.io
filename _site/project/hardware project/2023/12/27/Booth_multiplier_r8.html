<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XNNPBKM8PX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XNNPBKM8PX');
</script>

<title>Radix-8 Booth Encoding Multiplier using TDM</title>

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">

<!-- CSS -->
<link rel="stylesheet" href="/assets/css/styles.css">

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Dancing+Script:wght@400;500;600;700&family=Dongle:wght@300;400;700&family=Gugi&family=Karla:wght@200;300;400;500;600;700;800&family=Katibeh&family=Noto+Sans+KR:wght@100;200;300;400;500;600;700;800;900&family=Pacifico&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XNNPBKM8PX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XNNPBKM8PX');
</script>


<!-- Naver Search Adviser -->
<meta name="naver-site-verification" content="13447803628be075605281680bfa7ae08734c2b3" />


<!-- Math -->


<meta property="og:image" content="https://github.com/radic2682/radic2682.github.io/assets/11177959/c461f83d-b4bc-4998-badd-cfc7d5945817">
<meta property="og:title" content="traumhaft">
<meta property="og:description" content="Sun Hong의 개인 블로그 - 방가방가">

  </head>

  <body>

    <div id="sidebar">
      <div class="menu_close_btn">
    <img width="64" height="64" src="https://img.icons8.com/sf-black-filled/64/x.png" alt="x" onclick="menu_close_click()"/>
</div>

<div class="profile">
    <div class="profile_pic">
        <img src="/assets/images/me.png" alt="It's me">
    </div>
    <p>Sun Hong</p>
</div>



<div class="contact sidebar_box">
    <h1>Contact Me</h1>
    <div class="mail contact_box">
        <img width="96" height="96" src="https://img.icons8.com/fluency/96/mail--v1.png" alt="mail--v1"/>
        <a href="matilto:32182479@dankook.ac.kr">32182479@dankook.ac.kr</a>
    </div>
    <div class="linkedin contact_box">
        <img width="96" height="96" src="https://img.icons8.com/color/96/linkedin.png" alt="linkedin"/>	
        <a href="https://www.linkedin.com/in/sunhong-an/">Linked In</a>
    </div>
    <div class="notion contact_box">
        <img width="64" height="64" src="https://img.icons8.com/cute-clipart/64/notion.png" alt="notion"/>	
        <a href="https://www.notion.so/Sun-Hong-78ee5a443bfd49aab679d33f8c0697ef?pvs=4/">Portfolio</a>
    </div>
    <div class="github contact_box">
        <img width="96" height="96" src="https://img.icons8.com/color/96/github.png" alt="github"/>
        <a href="https://github.com/radic2682">Github</a>
    </div>
</div>


<div id="category" class="sidebar_box">
    <h1>Category<span class="count">50</span></h1>
    <ul class="menu_list">
        
    
        

            
                

            
                

            
                

            
                

            
                

            
                

            
                

            
                

            
                

            
                

            
                

            
                

            
                

            
                

            
                

            
    
    
            
    
            
    
            <div class="cat_box">
                <li class="cat_title">
                    <img width="96" height="96" src="https://img.icons8.com/external-goofy-color-kerismaker/96/external-Project-graphic-design-goofy-color-kerismaker.png" alt="external-Project-graphic-design-goofy-color-kerismaker"/>
                    <a href="/category/Project/">Project</a>
                </li>
        
                
                    <ul class="cat_part">
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="64" height="64" src="https://img.icons8.com/wired/64/processor.png" alt="processor"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Project/Hardware Project/" class="">Hardware Project<span class="count_m">9</span></a>
                            </li>
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="50" height="50" src="https://img.icons8.com/ios/50/iphone14-pro.png" alt="iphone14-pro"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Project/App Project/" class="">App Project<span class="count_m">1</span></a>
                            </li>
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="100" height="100" src="https://img.icons8.com/ios/100/web.png" alt="web"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Project/Web Project/" class="">Web Project<span class="count_m">1</span></a>
                            </li>
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="96" height="96" src="https://img.icons8.com/windows/96/artificial-intelligence.png" alt="artificial-intelligence"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Project/Ai Project/" class="">Ai Project<span class="count_m">0</span></a>
                            </li>
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="64" height="64" src="https://img.icons8.com/external-kiranshastry-lineal-kiranshastry/64/external-more-multimedia-kiranshastry-lineal-kiranshastry.png" alt="external-more-multimedia-kiranshastry-lineal-kiranshastry"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Project/etc Project/" class="">etc Project<span class="count_m">1</span></a>
                            </li>
                        
                    </ul>
                
            </div>
    
        

            
    
    
            
    
            
    
            <div class="cat_box">
                <li class="cat_title">
                    <img width="53" height="53" src="https://img.icons8.com/external-vectorslab-outline-color-vectorslab/53/external-brain-processor-machine-learning-vectorslab-outline-color-vectorslab.png" alt="external-brain-processor-machine-learning-vectorslab-outline-color-vectorslab"/>
                    <a href="/category/Ai%20Note/">Ai Note</a>
                </li>
        
                
                    <ul class="cat_part">
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                        <img width="68" height="68" src="https://img.icons8.com/external-smashingstocks-mixed-smashing-stocks/68/external-deep-learning-science-smashingstocks-mixed-smashing-stocks.png" alt="external-deep-learning-science-smashingstocks-mixed-smashing-stocks"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Ai%20Note/Deep Learning/" class="">Deep Learning<span class="count_m">0</span></a>
                            </li>
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="50" height="50" src="https://img.icons8.com/ios/50/machine-learning.png" alt="machine-learning"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Ai%20Note/Machine Learning/" class="">Machine Learning<span class="count_m">1</span></a>
                            </li>
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                        <img width="80" height="80" src="https://img.icons8.com/dotty/80/note.png" alt="note"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Ai%20Note/Ai Study Note/" class="">Ai Study Note<span class="count_m">12</span></a>
                            </li>
                        
                    </ul>
                
            </div>
    
        

            
    
    
            
    
            
    
            <div class="cat_box">
                <li class="cat_title">
                    <img width="64" height="64" src="https://img.icons8.com/external-flaticons-lineal-color-flat-icons/64/external-hardware-technology-ecommerce-flaticons-lineal-color-flat-icons.png" alt="external-hardware-technology-ecommerce-flaticons-lineal-color-flat-icons"/>
                    <a href="/category/Hardware%20Note/">Hardware Note</a>
                </li>
        
                
                    <ul class="cat_part">
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="50" height="50" src="https://img.icons8.com/ios/50/goodnotes.png" alt="goodnotes"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Hardware%20Note/HW Study Note/" class="">HW Study Note<span class="count_m">8</span></a>
                            </li>
                        
                    </ul>
                
            </div>
    
        

            
    
    
            
    
            
    
            <div class="cat_box">
                <li class="cat_title">
                    <img width="64" height="64" src="https://img.icons8.com/dusk/64/saving-book.png" alt="saving-book"/>
                    <a href="/category/Study/">Study</a>
                </li>
        
                
                    <ul class="cat_part">
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="48" height="48" src="https://img.icons8.com/badges/48/c-plus-plus-logo.png" alt="c-plus-plus-logo"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Study/C & CPP/" class="">C & CPP<span class="count_m">4</span></a>
                            </li>
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="50" height="50" src="https://img.icons8.com/ios/50/genealogy.png" alt="genealogy"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Study/Algorithm/" class="">Algorithm<span class="count_m">0</span></a>
                            </li>
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="50" height="50" src="https://img.icons8.com/ios/50/git.png" alt="git"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Study/GIT/" class="">GIT<span class="count_m">10</span></a>
                            </li>
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="64" height="64" src="https://img.icons8.com/external-creatype-outline-colourcreatype/64/external-electron-science-education-outline-creatype-outline-colourcreatype.png" alt="external-electron-science-education-outline-creatype-outline-colourcreatype"/>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Study/Electron/" class="">Electron<span class="count_m">2</span></a>
                            </li>
                        
                    </ul>
                
            </div>
    
        

            
    
    
            
    
            
    
            <div class="cat_box">
                <li class="cat_title">
                    <img width="64" height="64" src="https://img.icons8.com/external-flatart-icons-lineal-color-flatarticons/64/external-idea-user-interface-flatart-icons-lineal-color-flatarticons.png" alt="external-idea-user-interface-flatart-icons-lineal-color-flatarticons"/>
                    <a href="/category/Tips/">Tips</a>
                </li>
        
                
                    <ul class="cat_part">
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="96" height="96" src="https://img.icons8.com/windows/96/maintenance.png" alt="maintenance"/>
                                    
                                
    
                                
                                
    
                                <a href="/category/Tips/Tools/" class="">Tools<span class="count_m">0</span></a>
                            </li>
                        
    
                            
    
                            
    
                            <li>
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <img width="100" height="100" src="https://img.icons8.com/ios/100/blog.png" alt="blog"/>
                                    
                                
                                    
                                
    
                                
                                
    
                                <a href="/category/Tips/GitHub & Blog/" class="">GitHub & Blog<span class="count_m">1</span></a>
                            </li>
                        
                    </ul>
                
            </div>
    
        
    </ul>
</div>









<div id="user_panel" class="sidebar_box">
    <h1>User Panel</h1>
    <div class="set_ele">
        <a href="/">
            <img width="96" height="96" src="https://img.icons8.com/fluency/96/home.png" alt="home"/>
        </a>
        <a href="/visiting/">
            <img src="/assets/images/logo_dragon_64x64.png" alt="Dragon">
        </a>
        <a href="/search/">
            <img width="40" height="40" src="https://img.icons8.com/office/40/search--v1.png" alt="search--v1"/>
        </a>
    </div>
</div>


<div id="control_panel" class="sidebar_box">
    <h1>Control Panel</h1>
    <div class="set_ele">
        <a href="https://gaac.vercel.app/">
            <img width="96" height="96" src="https://gaac.vercel.app/assets/images/mascot.png" alt="image--v1"/>
        </a>
        <a href="https://analytics.google.com/analytics/">
            <img width="96" height="96" src="https://img.icons8.com/fluency/96/analytics--v1.png" alt="analytics--v1"/>
        </a>
        <a href="https://search.google.com/u/2/search-console?resource_id=https%3A%2F%2Fradic2682.github.io%2F">
            <img width="64" height="64" src="https://img.icons8.com/external-bearicons-outline-color-bearicons/64/external-Search-website-bearicons-outline-color-bearicons.png" alt="external-Search-website-bearicons-outline-color-bearicons"/>
        </a>
        <a href="https://searchadvisor.naver.com/console/board">
            <img width="64" height="64" src="https://img.icons8.com/external-wanicon-two-tone-wanicon/64/external-search-seo-and-web-wanicon-two-tone-wanicon.png" alt="external-search-seo-and-web-wanicon-two-tone-wanicon"/>
        </a>
    </div>
</div>

<!-- <div id="count" class="sidebar_box">
    <h1>Count</h1>
    <div class="set_ele">
        <a href="https://hits.seeyoufarm.com"><img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fradic2682.github.io&count_bg=%2391B0DD&title_bg=%2318253A&icon=&icon_color=%23580000&title=hits&edge_flat=false"/></a>
    </div>
</div> -->


<button id="sidebar_on_off_btn">
    <img width="64" height="64" src="/assets/images/icon_menu.png" alt="menu" onclick="menu_tag_click()"/>
</button>


    </div>

    <div class="all_wrapper">
      <div id="sidebar_area"></div>

      <div id="content_area">

        <div id="content_area_wrapper">

          <div id="top_area">
            <div id="scoll_bar"></div>
            <div id="top_nav_bar">
              <a href="/"><img src="/assets/images/logoB.png" alt="Home" class="logo"></a>
              <a href="/search/"><img id="top_search" src="/assets/images/icon_search_l.png" alt="Search"></a>
            </div>
          </div>
  
          <div id="content"> <div id="post_page">
    <div class="backg"></div>
    <div class="catShelter">
        <div class="window">
            <img class="castle" src="/assets/images/castle.png" alt="castle">
            <div class="kitty">
                <div class="ear"></div>
            </div>
            <div class="moon"></div>
            <div class="star"></div>
        </div>
    </div>

    <div class="post_wapper">
        <div id="head">

            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                        
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                        

                        <div class="postpage_category_v" style="background-color: #EEDEE4;">
                            <p><a href="/category/Project/Hardware%20Project/">Hardware Project</a></p>
                        </div>

                        
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            

            <h1>Radix-8 Booth Encoding Multiplier using TDM</h1>

            <div class="mini_box_wAd">
                <div class="mini_box_writer">
                    <img width="96" height="96" src="https://img.icons8.com/color/96/user-typing-using-typewriter.png" alt="user-typing-using-typewriter"/>
                    <p>Sun Hong</p>	
                </div>
                <p class="date">2023년 12월 27일</p>
            </div>
        </div>

        <div id="body">

            <div class="article">
                <p><img src="https://raw.githubusercontent.com/radic2682/blog_images_repo/main/uploads/Radix-8%20Booth%20Encoding%20Multiplier%20using%20TDM/292887819-a7ae8090-2037-4638-92a5-89f9e73790c0.png" alt="image" /></p>

<p>자세한 설명은 Radix-4에 있습니다. 코드는 아래와 같습니다.<br />
(설계 방법이 크게 다르지 않습니다.)</p>

<p>깃허브에서 보시는 것을 추천드립니다.</p>

<p><a href="https://github.com/radic2682/radix-8_Booth_Multiplier.git">깃허브에서 보기</a></p>

<div class="language-verilog highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">`timescale</span> <span class="mi">1</span><span class="n">ns</span><span class="o">/</span><span class="mi">100</span><span class="n">ps</span>

<span class="k">module</span> <span class="n">multiplier_16b</span> <span class="p">(</span><span class="n">in_0</span><span class="p">,</span> <span class="n">in_1</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">overflow</span><span class="p">);</span>
	<span class="kt">input</span> <span class="p">[</span><span class="mi">6</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">in_0</span><span class="p">;</span>
	<span class="kt">input</span> <span class="p">[</span><span class="mi">8</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">in_1</span><span class="p">;</span>
	<span class="kt">output</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">out</span><span class="p">;</span>
	<span class="kt">output</span> <span class="n">overflow</span><span class="p">;</span>

<span class="c1">// Write netlists for your multiplier below using primitive logic gates given.</span>

	<span class="kt">wire</span> <span class="p">[</span><span class="mi">8</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_multiplicand</span> <span class="o">=</span> <span class="n">in_1</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">6</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_multiplier</span> <span class="o">=</span> <span class="n">in_0</span><span class="p">;</span>

	<span class="kt">wire</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_Y</span><span class="p">,</span> <span class="n">w_2Y</span><span class="p">,</span> <span class="n">w_3Y</span><span class="p">,</span> <span class="n">w_4Y</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="n">w_carry0</span><span class="p">,</span> <span class="n">w_carry1</span><span class="p">;</span>

	<span class="n">Y_GENERATOR</span> <span class="n">u000</span><span class="p">(</span>
		<span class="p">.</span><span class="n">multiplicand</span><span class="p">(</span><span class="n">w_multiplicand</span><span class="p">),</span>
		
		<span class="p">.</span><span class="n">o_Y</span>         <span class="p">(</span><span class="n">w_Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_2Y</span>        <span class="p">(</span><span class="n">w_2Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_3Y</span>        <span class="p">(</span><span class="n">w_3Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_4Y</span>        <span class="p">(</span><span class="n">w_4Y</span><span class="p">),</span>
		
		<span class="p">.</span><span class="n">o_carry0</span>    <span class="p">(</span><span class="n">w_carry0</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_carry1</span>    <span class="p">(</span><span class="n">w_carry1</span><span class="p">)</span>
	<span class="p">);</span>

	<span class="c1">// Field 1</span>
	<span class="kt">wire</span> <span class="n">w_carry0_F1</span><span class="p">,</span> <span class="n">w_carry1_F1</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_pp_F1</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_pp_F1_result</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="n">w_sign_F1</span><span class="p">,</span> <span class="n">w_sign_inv_F1</span><span class="p">,</span> <span class="n">w_3M_F1</span><span class="p">;</span>
	<span class="n">PP_GENERATOR</span> <span class="n">u001</span> <span class="p">(</span>
		<span class="p">.</span><span class="n">i_booth_multiplier</span><span class="p">(</span><span class="o">{</span><span class="n">w_multiplier</span><span class="p">[</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">],</span> <span class="mb">1'b0</span><span class="o">}</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_Y</span>               <span class="p">(</span><span class="n">w_Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_2Y</span>              <span class="p">(</span><span class="n">w_2Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_3Y</span>              <span class="p">(</span><span class="n">w_3Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_4Y</span>              <span class="p">(</span><span class="n">w_4Y</span><span class="p">),</span>
		
		
		<span class="p">.</span><span class="n">o_pp</span>              <span class="p">(</span><span class="n">w_pp_F1</span><span class="p">),</span>
		
		<span class="p">.</span><span class="n">o_sign</span>            <span class="p">(</span><span class="n">w_sign_F1</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_sign_inv</span>        <span class="p">(</span><span class="n">w_sign_inv_F1</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_3M</span> 			   <span class="p">(</span><span class="n">w_3M_F1</span><span class="p">)</span>
	<span class="p">);</span>

	<span class="k">assign</span> <span class="n">w_pp_F1_result</span> <span class="o">=</span> <span class="o">{</span><span class="mb">1'b0</span><span class="p">,</span> <span class="n">w_sign_inv_F1</span><span class="p">,</span> <span class="o">{</span><span class="mi">3</span><span class="o">{</span><span class="n">w_sign_F1</span><span class="o">}}</span><span class="p">,</span> <span class="n">w_pp_F1</span><span class="o">}</span><span class="p">;</span>
	<span class="n">AND_2I1O</span> <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_carry0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_3M_F1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_carry0_F1</span><span class="p">));</span>
	<span class="n">AND_2I1O</span> <span class="n">u003</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_carry1</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_3M_F1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_carry1_F1</span><span class="p">));</span>

	<span class="c1">// Field 2</span>
	<span class="kt">wire</span>        <span class="n">w_carry0_F2</span><span class="p">,</span> <span class="n">w_carry1_F2</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_pp_F2</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_pp_F2_result</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="n">w_sign_F2</span><span class="p">,</span> <span class="n">w_sign_inv_F2</span><span class="p">,</span> <span class="n">w_3M_F2</span><span class="p">;</span>
	<span class="n">PP_GENERATOR</span> <span class="n">u004</span> <span class="p">(</span>
		<span class="p">.</span><span class="n">i_booth_multiplier</span><span class="p">(</span><span class="n">w_multiplier</span><span class="p">[</span><span class="mi">5</span><span class="o">:</span><span class="mi">2</span><span class="p">]),</span>
		<span class="p">.</span><span class="n">i_Y</span>               <span class="p">(</span><span class="n">w_Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_2Y</span>              <span class="p">(</span><span class="n">w_2Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_3Y</span>              <span class="p">(</span><span class="n">w_3Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_4Y</span>              <span class="p">(</span><span class="n">w_4Y</span><span class="p">),</span>
		
		
		<span class="p">.</span><span class="n">o_pp</span>              <span class="p">(</span><span class="n">w_pp_F2</span><span class="p">),</span>
		
		<span class="p">.</span><span class="n">o_sign</span>            <span class="p">(</span><span class="n">w_sign_F2</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_sign_inv</span>        <span class="p">(</span><span class="n">w_sign_inv_F2</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_3M</span> 			   <span class="p">(</span><span class="n">w_3M_F2</span><span class="p">)</span>
	<span class="p">);</span>

	<span class="k">assign</span> <span class="n">w_pp_F2_result</span> <span class="o">=</span> <span class="o">{</span><span class="mb">1'b1</span><span class="p">,</span> <span class="n">w_sign_inv_F2</span><span class="p">,</span> <span class="n">w_pp_F2</span><span class="p">,</span> <span class="o">{</span><span class="mi">3</span><span class="o">{</span><span class="mb">1'b0</span><span class="o">}}}</span><span class="p">;</span>
	<span class="n">AND_2I1O</span> <span class="n">u005</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_carry0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_3M_F2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_carry0_F2</span><span class="p">));</span>
	<span class="n">AND_2I1O</span> <span class="n">u006</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_carry1</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_3M_F2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_carry1_F2</span><span class="p">));</span>

	<span class="c1">// Field 3</span>
	<span class="kt">wire</span> <span class="n">w_carry0_F3</span><span class="p">,</span> <span class="n">w_carry1_F3</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_pp_F3</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_pp_F3_result</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="n">w_sign_F3</span><span class="p">,</span> <span class="n">w_sign_inv_F3</span><span class="p">,</span> <span class="n">w_3M_F3</span><span class="p">;</span>
	<span class="n">PP_GENERATOR</span> <span class="n">u007</span> <span class="p">(</span>
		<span class="p">.</span><span class="n">i_booth_multiplier</span><span class="p">(,</span> <span class="n">w_multiplier</span><span class="p">[</span><span class="mi">6</span><span class="o">:</span><span class="mi">5</span><span class="p">]</span><span class="o">}</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_Y</span>               <span class="p">(</span><span class="n">w_Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_2Y</span>              <span class="p">(</span><span class="n">w_2Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_3Y</span>              <span class="p">(</span><span class="n">w_3Y</span><span class="p">),</span>
		<span class="p">.</span><span class="n">i_4Y</span>              <span class="p">(</span><span class="n">w_4Y</span><span class="p">),</span>
		
		
		<span class="p">.</span><span class="n">o_pp</span>              <span class="p">(</span><span class="n">w_pp_F3</span><span class="p">),</span>
		
		<span class="p">.</span><span class="n">o_sign</span>            <span class="p">(</span><span class="n">w_sign_F3</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_sign_inv</span>        <span class="p">(</span><span class="n">w_sign_inv_F3</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_3M</span> 			   <span class="p">(</span><span class="n">w_3M_F3</span><span class="p">)</span>
	<span class="p">);</span>

	<span class="k">assign</span> <span class="n">w_pp_F3_result</span> <span class="o">=</span> <span class="o">{</span><span class="n">w_pp_F3</span><span class="p">[</span><span class="mi">9</span><span class="o">:</span><span class="mi">0</span><span class="p">],</span> <span class="o">{</span><span class="mi">6</span><span class="o">{</span><span class="mb">1'b0</span><span class="o">}}}</span><span class="p">;</span>
	<span class="n">AND_2I1O</span> <span class="n">u008</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_carry0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_3M_F3</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_carry0_F3</span><span class="p">));</span>
	<span class="n">AND_2I1O</span> <span class="n">u009</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_carry1</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_3M_F3</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_carry1_F3</span><span class="p">));</span>

	<span class="c1">// CSA</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span><span class="n">csa_in_0</span><span class="p">,</span> <span class="n">csa_in_1</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">6</span><span class="p">]</span><span class="n">w_csa_carry</span><span class="p">;</span>

	<span class="k">assign</span> <span class="n">csa_in_0</span><span class="p">[</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">];</span>
	<span class="k">assign</span> <span class="n">csa_in_1</span><span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">,</span> <span class="n">w_sign_F1</span><span class="o">}</span><span class="p">;</span>

	<span class="c1">// COMP_3to2_CELL u004(.i0(), .i1(), .i2(), .o(), .Cout());</span>
	<span class="n">COMP_3to2_CELL</span>   <span class="n">u011</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> 							 <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_sign_F2</span><span class="p">),</span> 		  				  <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>  <span class="p">.</span><span class="n">Cout</span> <span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">4</span><span class="p">]));</span>
	<span class="n">COMP_3to2_CELL</span>   <span class="n">u012</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> 							 <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_carry0_F1</span><span class="p">),</span> 						  <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span>  <span class="p">.</span><span class="n">Cout</span> <span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">5</span><span class="p">]));</span>
	<span class="n">COMP_2to2_CELL</span>   <span class="n">u013</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span> 							 									 	  <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span>  <span class="p">.</span><span class="n">Cout</span> <span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">6</span><span class="p">]));</span>
	<span class="n">COMP_4to2_CELL</span>   <span class="n">u014</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_pp_F3_result</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">w_sign_F3</span><span class="p">),</span> 						  <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span>  <span class="p">.</span><span class="n">Carry</span><span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span>  <span class="p">.</span><span class="n">Cout</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">6</span><span class="p">]));</span>
	<span class="n">COMP_4to2_C_CELL</span> <span class="n">u015</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_pp_F3_result</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">w_carry0_F2</span><span class="p">),</span> <span class="p">.</span><span class="n">Cin</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span>  <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span>  <span class="p">.</span><span class="n">Carry</span><span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span>  <span class="p">.</span><span class="n">Cout</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">7</span><span class="p">]));</span>
	<span class="n">COMP_4to2_C_CELL</span> <span class="n">u016</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_pp_F3_result</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">w_carry1_F1</span><span class="p">),</span> <span class="p">.</span><span class="n">Cin</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span>  <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span>  <span class="p">.</span><span class="n">Carry</span><span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span>  <span class="p">.</span><span class="n">Cout</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">8</span><span class="p">]));</span>
	<span class="n">COMP_3to2_C_CELL</span> <span class="n">u017</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span>  <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_pp_F3_result</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span>    				   <span class="p">.</span><span class="n">Cin</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span>  <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span>  <span class="p">.</span><span class="n">Carry</span><span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">10</span><span class="p">]),</span> <span class="p">.</span><span class="n">Cout</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">9</span><span class="p">]));</span>
	<span class="n">COMP_3to2_C_CELL</span> <span class="n">u018</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">10</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">10</span><span class="p">]),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_pp_F3_result</span><span class="p">[</span><span class="mi">10</span><span class="p">]),</span>   				   <span class="p">.</span><span class="n">Cin</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span>  <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">10</span><span class="p">]),</span> <span class="p">.</span><span class="n">Carry</span><span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="p">.</span><span class="n">Cout</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">10</span><span class="p">]));</span>
	<span class="n">COMP_4to2_C_CELL</span> <span class="n">u019</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_pp_F3_result</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">w_carry1_F2</span><span class="p">),</span> <span class="p">.</span><span class="n">Cin</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">10</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="p">.</span><span class="n">Carry</span><span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">12</span><span class="p">]),</span> <span class="p">.</span><span class="n">Cout</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">11</span><span class="p">]));</span>
	<span class="n">COMP_3to2_C_CELL</span> <span class="n">u020</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">12</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">12</span><span class="p">]),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_pp_F3_result</span><span class="p">[</span><span class="mi">12</span><span class="p">]),</span> 				   <span class="p">.</span><span class="n">Cin</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">12</span><span class="p">]),</span> <span class="p">.</span><span class="n">Carry</span><span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">13</span><span class="p">]),</span> <span class="p">.</span><span class="n">Cout</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">12</span><span class="p">]));</span>
	<span class="n">COMP_3to2_C_CELL</span> <span class="n">u021</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">13</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">13</span><span class="p">]),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_pp_F3_result</span><span class="p">[</span><span class="mi">13</span><span class="p">]),</span> 				   <span class="p">.</span><span class="n">Cin</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">12</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">13</span><span class="p">]),</span> <span class="p">.</span><span class="n">Carry</span><span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">14</span><span class="p">]),</span> <span class="p">.</span><span class="n">Cout</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">13</span><span class="p">]));</span>
	<span class="n">COMP_3to2_C_CELL</span> <span class="n">u022</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F1_result</span><span class="p">[</span><span class="mi">14</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">14</span><span class="p">]),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_pp_F3_result</span><span class="p">[</span><span class="mi">14</span><span class="p">]),</span> 				   <span class="p">.</span><span class="n">Cin</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">13</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">14</span><span class="p">]),</span> <span class="p">.</span><span class="n">Carry</span><span class="p">(</span><span class="n">csa_in_1</span><span class="p">[</span><span class="mi">15</span><span class="p">]),</span> <span class="p">.</span><span class="n">Cout</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">14</span><span class="p">]));</span>
	<span class="n">COMP_2to2_C_CELL</span> <span class="n">u023</span><span class="p">(</span>						   <span class="p">.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_pp_F2_result</span><span class="p">[</span><span class="mi">15</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_pp_F3_result</span><span class="p">[</span><span class="mi">15</span><span class="p">]),</span> 				   <span class="p">.</span><span class="n">Cin</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">14</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">[</span><span class="mi">15</span><span class="p">]),</span> 					  <span class="p">.</span><span class="n">Cout</span><span class="p">(</span><span class="n">w_csa_carry</span><span class="p">[</span><span class="mi">15</span><span class="p">]));</span>

	<span class="c1">// CPA</span>
	<span class="n">ADDER_16</span> <span class="n">u024</span><span class="p">(</span>
    <span class="p">.</span><span class="n">i_A</span><span class="p">(</span><span class="n">csa_in_0</span><span class="p">),</span>
    <span class="p">.</span><span class="n">i_B</span><span class="p">(</span><span class="n">csa_in_1</span><span class="p">),</span>
    <span class="p">.</span><span class="n">i_Cin</span><span class="p">(</span><span class="mb">1'b0</span><span class="p">),</span>

    <span class="p">.</span><span class="n">o_SUM</span><span class="p">(</span><span class="n">out</span><span class="p">),</span>
    <span class="p">.</span><span class="n">o_Cout</span><span class="p">()</span> <span class="c1">// no use</span>
    <span class="p">);</span>

	<span class="k">assign</span> <span class="n">overflow</span> <span class="o">=</span> <span class="mb">1'b0</span><span class="p">;</span>

<span class="k">endmodule</span>









<span class="c1">///////////////////////////////////////////////////////////////////////////////////</span>
<span class="c1">// Partial product generating modules</span>

<span class="k">module</span> <span class="n">PP_GENERATOR</span> <span class="p">(</span>
	<span class="kt">input</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_booth_multiplier</span><span class="p">,</span>
	<span class="kt">input</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_Y</span><span class="p">,</span>
	<span class="kt">input</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_2Y</span><span class="p">,</span>
	<span class="kt">input</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_3Y</span><span class="p">,</span>
	<span class="kt">input</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_4Y</span><span class="p">,</span>


	<span class="kt">output</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">o_pp</span><span class="p">,</span>

	<span class="kt">output</span> <span class="n">o_sign</span><span class="p">,</span>
	<span class="kt">output</span> <span class="n">o_sign_inv</span><span class="p">,</span>
	<span class="kt">output</span> <span class="n">o_3M</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_booth_multiplie_inv</span><span class="p">;</span>

	<span class="n">INV</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i_booth_multiplier</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_booth_multiplie_inv</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">INV</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i_booth_multiplier</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_booth_multiplie_inv</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">INV</span> <span class="n">u002</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i_booth_multiplier</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_booth_multiplie_inv</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
	<span class="n">INV</span> <span class="n">u003</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i_booth_multiplier</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_booth_multiplie_inv</span><span class="p">[</span><span class="mi">3</span><span class="p">]));</span>

	<span class="kt">wire</span> <span class="n">w_M</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="n">w_2M</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="n">w_3M</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="n">w_4M</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="n">w_sign</span><span class="p">;</span>

	<span class="n">BOOTH_ENCODER</span> <span class="n">u004</span> <span class="p">(</span>
		<span class="p">.</span><span class="n">i_A</span>    <span class="p">(</span><span class="n">i_booth_multiplier</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>
		<span class="p">.</span><span class="n">i_B</span>    <span class="p">(</span><span class="n">i_booth_multiplier</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
		<span class="p">.</span><span class="n">i_C</span>    <span class="p">(</span><span class="n">i_booth_multiplier</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
		<span class="p">.</span><span class="n">i_D</span>    <span class="p">(</span><span class="n">i_booth_multiplier</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
		
		<span class="p">.</span><span class="n">i_A_inv</span><span class="p">(</span><span class="n">w_booth_multiplie_inv</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>
		<span class="p">.</span><span class="n">i_B_inv</span><span class="p">(</span><span class="n">w_booth_multiplie_inv</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
		<span class="p">.</span><span class="n">i_C_inv</span><span class="p">(</span><span class="n">w_booth_multiplie_inv</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
		<span class="p">.</span><span class="n">i_D_inv</span><span class="p">(</span><span class="n">w_booth_multiplie_inv</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
		
		<span class="p">.</span><span class="n">o_M</span>    <span class="p">(</span><span class="n">w_M</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_2M</span>   <span class="p">(</span><span class="n">w_2M</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_3M</span>   <span class="p">(</span><span class="n">w_3M</span><span class="p">),</span>
		<span class="p">.</span><span class="n">o_4M</span>   <span class="p">(</span><span class="n">w_4M</span><span class="p">),</span>
		
		<span class="p">.</span><span class="n">o_sign</span> <span class="p">(</span><span class="n">w_sign</span><span class="p">)</span>
	<span class="p">);</span>

	<span class="k">assign</span> <span class="n">o_sign</span> <span class="o">=</span> <span class="n">w_sign</span><span class="p">;</span>
	<span class="k">assign</span> <span class="n">o_3M</span> <span class="o">=</span> <span class="n">w_3M</span><span class="p">;</span>
	<span class="n">INV</span> <span class="n">u005</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">w_sign</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_sign_inv</span><span class="p">));</span>

    <span class="k">genvar</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">generate</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">begin</span>
        <span class="n">BOOTH_SELECTOR</span> <span class="n">u006</span> <span class="p">(</span>
			<span class="p">.</span><span class="n">i_sign</span><span class="p">(</span><span class="n">w_sign</span><span class="p">),</span>
			
			<span class="p">.</span><span class="n">i_M</span>   <span class="p">(</span><span class="n">w_M</span><span class="p">),</span>
			<span class="p">.</span><span class="n">i_2M</span>  <span class="p">(</span><span class="n">w_2M</span><span class="p">),</span>
			<span class="p">.</span><span class="n">i_3M</span>  <span class="p">(</span><span class="n">w_3M</span><span class="p">),</span>
			<span class="p">.</span><span class="n">i_4M</span>  <span class="p">(</span><span class="n">w_4M</span><span class="p">),</span>
			
			<span class="p">.</span><span class="n">i_Y</span>   <span class="p">(</span><span class="n">i_Y</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
			<span class="p">.</span><span class="n">i_2Y</span>  <span class="p">(</span><span class="n">i_2Y</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
			<span class="p">.</span><span class="n">i_3Y</span>  <span class="p">(</span><span class="n">i_3Y</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
			<span class="p">.</span><span class="n">i_4Y</span>  <span class="p">(</span><span class="n">i_4Y</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span>
			
			<span class="p">.</span><span class="n">o_pp</span>  <span class="p">(</span><span class="n">o_pp</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
		<span class="p">);</span>
    <span class="k">end</span> <span class="k">endgenerate</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">BOOTH_SELECTOR</span> <span class="p">(</span>
	<span class="kt">input</span> <span class="n">i_sign</span><span class="p">,</span>

	<span class="kt">input</span> <span class="n">i_M</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_2M</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_3M</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_4M</span><span class="p">,</span>

	<span class="kt">input</span> <span class="n">i_Y</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_2Y</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_3Y</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_4Y</span><span class="p">,</span>
	
	<span class="kt">output</span> <span class="n">o_pp</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span><span class="n">w</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="n">ww</span><span class="p">;</span>

	<span class="n">NAND_2I1O</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_M</span><span class="p">),</span>  <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_Y</span><span class="p">),</span>  <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">NAND_2I1O</span>   <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_2M</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_2Y</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">NAND_2I1O</span>   <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_3M</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_3Y</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
	<span class="n">NAND_2I1O</span>   <span class="n">u003</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_4M</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_4Y</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]));</span>

	<span class="n">NAND_4I1O</span>   <span class="n">u004</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">ww</span><span class="p">));</span>

	<span class="n">XOR_2I1O_CELL</span> <span class="n">u005</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_sign</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">ww</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_pp</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">BOOTH_ENCODER</span> <span class="p">(</span>
	<span class="kt">input</span> <span class="n">i_A</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_B</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_C</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_D</span><span class="p">,</span>

	<span class="kt">input</span> <span class="n">i_A_inv</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_B_inv</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_C_inv</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i_D_inv</span><span class="p">,</span>

	<span class="kt">output</span> <span class="n">o_M</span><span class="p">,</span>
	<span class="kt">output</span> <span class="n">o_2M</span><span class="p">,</span>
	<span class="kt">output</span> <span class="n">o_3M</span><span class="p">,</span>
	<span class="kt">output</span> <span class="n">o_4M</span><span class="p">,</span>

	<span class="kt">output</span> <span class="n">o_sign</span>
	<span class="p">);</span>
	
	<span class="k">assign</span> <span class="n">o_sign</span> <span class="o">=</span> <span class="n">i_A</span><span class="p">;</span>

	<span class="c1">// M</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_M</span><span class="p">;</span>
	<span class="n">NAND_4I1O</span> <span class="n">u000</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_C_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_D</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_A</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_B</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_M</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">NAND_4I1O</span> <span class="n">u001</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_C_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_D</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_B_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_A_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_M</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">NAND_4I1O</span> <span class="n">u002</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_C</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_D_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_A</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_B</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_M</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
	<span class="n">NAND_4I1O</span> <span class="n">u003</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_C</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_D_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_B_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_A_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_M</span><span class="p">[</span><span class="mi">3</span><span class="p">]));</span>
	<span class="n">NAND_4I1O</span> <span class="n">u004</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_M</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_M</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_M</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">w_M</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_M</span><span class="p">));</span>

	<span class="c1">// 2M</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_2M</span><span class="p">;</span>
	<span class="n">NAND_3I1O</span> <span class="n">u005</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_B_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_C</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_D</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_2M</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">NAND_3I1O</span> <span class="n">u006</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_B</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_C_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_D_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_2M</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">NAND_2I1O</span> <span class="n">u009</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_2M</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_2M</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_2M</span><span class="p">));</span>

	<span class="c1">// 3M</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_3M</span><span class="p">;</span>
	<span class="n">NAND_4I1O</span> <span class="n">u010</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_B_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_A</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_C_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_D</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_3M</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">NAND_4I1O</span> <span class="n">u011</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_B_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_A</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_C</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_D_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_3M</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">NAND_4I1O</span> <span class="n">u012</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_B</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_A_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_C_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_D</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_3M</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
	<span class="n">NAND_4I1O</span> <span class="n">u013</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_B</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_A_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_C</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_D_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_3M</span><span class="p">[</span><span class="mi">3</span><span class="p">]));</span>
	<span class="n">NAND_4I1O</span> <span class="n">u014</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_3M</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_3M</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w_3M</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">w_3M</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_3M</span><span class="p">));</span>

	<span class="c1">// 4M</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_4M</span><span class="p">;</span>
	<span class="n">NAND_4I1O</span> <span class="n">u015</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_B_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_A</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_D_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_C_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_4M</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">NAND_4I1O</span> <span class="n">u016</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_B</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_A_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_C</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_D</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_4M</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">NAND_2I1O</span> <span class="n">u017</span> <span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_4M</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_4M</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_4M</span><span class="p">));</span>

<span class="k">endmodule</span>


<span class="c1">///////////////////////////////////////////////////////////////////////////////////</span>
<span class="c1">// Y_GENERATOR: Generate Y, 2Y, 3Y, 4Y</span>

<span class="k">module</span> <span class="n">Y_GENERATOR</span> <span class="p">(</span>
	<span class="kt">input</span> <span class="p">[</span><span class="mi">8</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">multiplicand</span><span class="p">,</span>

	<span class="kt">output</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">o_Y</span><span class="p">,</span>
	<span class="kt">output</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">o_2Y</span><span class="p">,</span>
	<span class="kt">output</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">o_3Y</span><span class="p">,</span>
	<span class="kt">output</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">o_4Y</span><span class="p">,</span>

	<span class="kt">output</span> <span class="n">o_carry0</span><span class="p">,</span>
	<span class="kt">output</span> <span class="n">o_carry1</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="p">[</span><span class="mi">8</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_1Y</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">9</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_2Y</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_3Y</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_4Y</span><span class="p">;</span>

	<span class="k">assign</span> <span class="n">w_1Y</span> <span class="o">=</span> <span class="n">multiplicand</span><span class="p">;</span>
	<span class="n">SHIFTER</span> <span class="p">#(.</span><span class="n">SHIFT_IN_BIT</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span> <span class="p">.</span><span class="n">SHIFT_NUM</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">multiplicand</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_2Y</span><span class="p">));</span>
	<span class="n">MAKE_3Y</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i_Y</span><span class="p">(</span><span class="n">w_1Y</span><span class="p">),</span> <span class="p">.</span><span class="n">i_2Y</span><span class="p">(</span><span class="n">w_2Y</span><span class="p">),</span> <span class="p">.</span><span class="n">o_3Y</span><span class="p">(</span><span class="n">w_3Y</span><span class="p">),</span> <span class="p">.</span><span class="n">o_carry0</span><span class="p">(</span><span class="n">o_carry0</span><span class="p">),</span> <span class="p">.</span><span class="n">o_carry1</span><span class="p">(</span><span class="n">o_carry1</span><span class="p">));</span>
	<span class="n">SHIFTER</span> <span class="p">#(.</span><span class="n">SHIFT_IN_BIT</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span> <span class="p">.</span><span class="n">SHIFT_NUM</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="n">u002</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">multiplicand</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w_4Y</span><span class="p">));</span>

	<span class="k">assign</span> <span class="n">o_Y</span>  <span class="o">=</span> <span class="p">,</span> <span class="n">w_1Y</span><span class="o">}</span><span class="p">;</span>
	<span class="k">assign</span> <span class="n">o_2Y</span> <span class="o">=</span> <span class="o">{</span><span class="mb">1'b0</span><span class="p">,</span> <span class="n">w_2Y</span><span class="o">}</span><span class="p">;</span>
	<span class="k">assign</span> <span class="n">o_3Y</span> <span class="o">=</span> <span class="n">w_3Y</span><span class="p">;</span>
	<span class="k">assign</span> <span class="n">o_4Y</span> <span class="o">=</span> <span class="n">w_4Y</span><span class="p">;</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">MAKE_3Y</span> <span class="p">(</span>
	<span class="kt">input</span> <span class="p">[</span><span class="mi">8</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_Y</span><span class="p">,</span>
	<span class="kt">input</span> <span class="p">[</span><span class="mi">9</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_2Y</span><span class="p">,</span>

	<span class="kt">output</span> <span class="p">[</span><span class="mi">10</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">o_3Y</span><span class="p">,</span>
	<span class="kt">output</span> <span class="n">o_carry0</span><span class="p">,</span>
	<span class="kt">output</span> <span class="n">o_carry1</span>
	<span class="p">);</span>

	<span class="n">ADDER_4</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i_A</span><span class="p">(</span><span class="n">i_Y</span><span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_B</span><span class="p">(</span><span class="n">i_2Y</span><span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_SUM</span><span class="p">(</span><span class="n">o_3Y</span><span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Cout</span><span class="p">(</span><span class="n">o_carry0</span><span class="p">));</span>
	<span class="n">ADDER_4</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i_A</span><span class="p">(</span><span class="n">i_Y</span><span class="p">[</span><span class="mi">7</span><span class="o">:</span><span class="mi">4</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_B</span><span class="p">(</span><span class="n">i_2Y</span><span class="p">[</span><span class="mi">7</span><span class="o">:</span><span class="mi">4</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_SUM</span><span class="p">(</span><span class="n">o_3Y</span><span class="p">[</span><span class="mi">7</span><span class="o">:</span><span class="mi">4</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Cout</span><span class="p">(</span><span class="n">o_carry1</span><span class="p">));</span>
	<span class="n">ADDER_2</span> <span class="n">u002</span><span class="p">(.</span><span class="n">i_A</span><span class="p">(</span><span class="o">{</span><span class="mb">1'b0</span><span class="p">,</span> <span class="n">i_Y</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">}</span><span class="p">),</span> <span class="p">.</span><span class="n">i_B</span><span class="p">(</span><span class="n">i_2Y</span><span class="p">[</span><span class="mi">9</span><span class="o">:</span><span class="mi">8</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_SUM</span><span class="p">(</span><span class="n">o_3Y</span><span class="p">[</span><span class="mi">9</span><span class="o">:</span><span class="mi">8</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Cout</span><span class="p">(</span><span class="n">o_3Y</span><span class="p">[</span><span class="mi">10</span><span class="p">]));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">SHIFTER</span> <span class="p">#(</span>
	<span class="k">parameter</span> <span class="n">SHIFT_IN_BIT</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="k">parameter</span> <span class="n">SHIFT_NUM</span>    <span class="o">=</span> <span class="mi">1</span>
	<span class="p">)(</span>
	<span class="kt">input</span>  <span class="p">[</span>            <span class="n">SHIFT_IN_BIT</span><span class="o">-</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i</span><span class="p">,</span>
	<span class="kt">output</span> <span class="p">[(</span><span class="n">SHIFT_IN_BIT</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">SHIFT_NUM</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">o</span>
	<span class="p">);</span>

	<span class="k">assign</span> <span class="n">o</span> <span class="o">=</span> <span class="o">{</span><span class="n">i</span><span class="p">,</span> <span class="o">{</span><span class="n">SHIFT_NUM</span><span class="o">{</span><span class="mb">1'b0</span><span class="o">}}}</span><span class="p">;</span>

<span class="k">endmodule</span>


<span class="c1">///////////////////////////////////////////////////////////////////////////////////</span>
<span class="c1">// Adders</span>

<span class="c1">// 16bit KS Adder -----------------------------------------------------------------</span>
<span class="k">module</span> <span class="n">ADDER_16</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_A</span><span class="p">,</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_B</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i_Cin</span><span class="p">,</span>

    <span class="kt">output</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">o_SUM</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">o_Cout</span>
    <span class="p">);</span>

    <span class="kt">wire</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_G</span><span class="p">,</span> <span class="n">w_P</span><span class="p">,</span> <span class="n">w_GG</span><span class="p">;</span>
    <span class="kt">wire</span> <span class="n">w_PP_15to0</span><span class="p">;</span>

    <span class="n">BPG_16</span>     <span class="n">u000</span><span class="p">(.</span><span class="n">i_A</span><span class="p">(</span><span class="n">i_A</span><span class="p">),</span> <span class="p">.</span><span class="n">i_B</span><span class="p">(</span><span class="n">i_B</span><span class="p">),</span> <span class="p">.</span><span class="n">o_G</span><span class="p">(</span><span class="n">w_G</span><span class="p">),</span> <span class="p">.</span><span class="n">o_P</span><span class="p">(</span><span class="n">w_P</span><span class="p">));</span>
    <span class="n">GPG_16</span>     <span class="n">u001</span><span class="p">(.</span><span class="n">i_G</span><span class="p">(</span><span class="n">w_G</span><span class="p">),</span> <span class="p">.</span><span class="n">i_P</span><span class="p">(</span><span class="n">w_P</span><span class="p">),</span> <span class="p">.</span><span class="n">i_CIN</span><span class="p">(</span><span class="n">i_Cin</span><span class="p">),</span> <span class="p">.</span><span class="n">o_GG</span><span class="p">(</span><span class="n">w_GG</span><span class="p">),</span> <span class="p">.</span><span class="n">o_PP_15to0</span><span class="p">(</span><span class="n">w_PP_15to0</span><span class="p">));</span>
    <span class="n">SUM_16</span>     <span class="n">u002</span><span class="p">(.</span><span class="n">i_GG</span><span class="p">(</span><span class="n">w_GG</span><span class="p">),</span> <span class="p">.</span><span class="n">i_P</span><span class="p">(</span><span class="n">w_P</span><span class="p">),</span> <span class="p">.</span><span class="n">i_PP_15to_0</span><span class="p">(</span><span class="n">w_PP_15to0</span><span class="p">),</span> <span class="p">.</span><span class="n">i_CIN</span><span class="p">(</span><span class="n">i_Cin</span><span class="p">),</span> <span class="p">.</span><span class="n">o_S</span><span class="p">(</span><span class="n">o_SUM</span><span class="p">),</span> <span class="p">.</span><span class="n">o_COUT</span><span class="p">(</span><span class="n">o_Cout</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">BPG_16</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>    <span class="n">i_A</span><span class="p">,</span> <span class="n">i_B</span><span class="p">,</span>

    <span class="kt">output</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>   <span class="n">o_G</span><span class="p">,</span> <span class="n">o_P</span>
    <span class="p">);</span>

    <span class="k">genvar</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">generate</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">begin</span>
        <span class="n">GEN_PROP_CELL</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i_A</span><span class="p">(</span><span class="n">i_A</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_B</span><span class="p">(</span><span class="n">i_B</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_G</span><span class="p">(</span><span class="n">o_G</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_P</span><span class="p">(</span><span class="n">o_P</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
    <span class="k">end</span> <span class="k">endgenerate</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">GPG_16</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>    <span class="n">i_G</span><span class="p">,</span> <span class="n">i_P</span><span class="p">,</span>
    <span class="kt">input</span>           <span class="n">i_CIN</span><span class="p">,</span>

    <span class="kt">output</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>   <span class="n">o_GG</span><span class="p">,</span>
    <span class="kt">output</span>          <span class="n">o_PP_15to0</span>
    <span class="p">);</span>

    <span class="kt">wire</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_GG_S1</span><span class="p">;</span>
    <span class="kt">wire</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">3</span><span class="p">]</span> <span class="n">w_PP_S1</span><span class="p">;</span>

    <span class="c1">// STAGE 1</span>
    <span class="n">GRAY_CELL</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">i_CIN</span><span class="p">),</span> <span class="p">.</span><span class="n">o_Y</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
    <span class="n">HVAL_G_3I_CELL</span>   <span class="n">u001</span><span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">i_CIN</span><span class="p">),</span> <span class="p">.</span><span class="n">o_Ga2c</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
    <span class="n">HVAL_G_4I_CELL</span>   <span class="n">u002</span><span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pc</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gd</span><span class="p">(</span><span class="n">i_CIN</span><span class="p">),</span> <span class="p">.</span><span class="n">o_Ga2d</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>

    <span class="k">genvar</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">generate</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">begin</span>
        <span class="n">HVAL_B_4I_CELL</span>   <span class="n">u003</span><span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pc</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gd</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pd</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Ga2d</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Pa2d</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
    <span class="k">end</span> <span class="k">endgenerate</span>

    <span class="c1">// STAGE 2</span>
    <span class="k">assign</span> <span class="n">o_GG</span><span class="p">[</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">];</span>

    <span class="n">GRAY_CELL</span> <span class="n">u004</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">i_CIN</span><span class="p">),</span> <span class="p">.</span><span class="n">o_Y</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">3</span><span class="p">]));</span>
    <span class="n">GRAY_CELL</span> <span class="n">u005</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Y</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">4</span><span class="p">]));</span>
    <span class="n">GRAY_CELL</span> <span class="n">u006</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Y</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">5</span><span class="p">]));</span>
    <span class="n">GRAY_CELL</span> <span class="n">u007</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Y</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">6</span><span class="p">]));</span>

    <span class="n">HVAL_G_3I_CELL</span> <span class="n">u008</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">i_CIN</span><span class="p">),</span> <span class="p">.</span><span class="n">o_Ga2c</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">7</span><span class="p">]));</span>
    <span class="n">HVAL_G_3I_CELL</span> <span class="n">u009</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Ga2c</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">8</span><span class="p">]));</span>
    <span class="n">HVAL_G_3I_CELL</span> <span class="n">u010</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Ga2c</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">9</span><span class="p">]));</span>
    <span class="n">HVAL_G_3I_CELL</span> <span class="n">u011</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">10</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">10</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Ga2c</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">10</span><span class="p">]));</span>

    <span class="n">HVAL_G_4I_CELL</span> <span class="n">u012</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pc</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gd</span><span class="p">(</span><span class="n">i_CIN</span><span class="p">),</span> <span class="p">.</span><span class="n">o_Ga2d</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">11</span><span class="p">]));</span>
    <span class="n">HVAL_G_4I_CELL</span> <span class="n">u013</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">12</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">12</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pc</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gd</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Ga2d</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">12</span><span class="p">]));</span>
    <span class="n">HVAL_G_4I_CELL</span> <span class="n">u014</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">13</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">13</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pc</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gd</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Ga2d</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">13</span><span class="p">]));</span>
    <span class="n">HVAL_G_4I_CELL</span> <span class="n">u015</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">14</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">14</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">10</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">10</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pc</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gd</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Ga2d</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">14</span><span class="p">]));</span>

    <span class="n">HVAL_B_4I_CELL</span> <span class="n">u016</span> <span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">15</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">15</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pc</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gd</span><span class="p">(</span><span class="n">w_GG_S1</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pd</span><span class="p">(</span><span class="n">w_PP_S1</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Ga2d</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">15</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Pa2d</span><span class="p">(</span><span class="n">o_PP_15to0</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">SUM_16</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>    <span class="n">i_GG</span><span class="p">,</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>    <span class="n">i_P</span><span class="p">,</span>
    <span class="kt">input</span>           <span class="n">i_PP_15to_0</span><span class="p">,</span>
    <span class="kt">input</span>           <span class="n">i_CIN</span><span class="p">,</span>

    <span class="kt">output</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>   <span class="n">o_S</span><span class="p">,</span>
    <span class="kt">output</span>          <span class="n">o_COUT</span>
    <span class="p">);</span>
    
    <span class="kt">wire</span> <span class="p">[</span><span class="mi">15</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">new_GG</span> <span class="o">=</span> <span class="o">{</span><span class="n">i_GG</span><span class="p">[</span><span class="mi">14</span><span class="o">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">i_CIN</span><span class="o">}</span><span class="p">;</span>

    <span class="k">genvar</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">generate</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">begin</span>
       <span class="n">XOR_2I1O_CELL</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">new_GG</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_S</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
    <span class="k">end</span> <span class="k">endgenerate</span>

    <span class="n">GRAY_CELL</span>   <span class="n">u001</span><span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">i_GG</span><span class="p">[</span><span class="mi">15</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">i_PP_15to_0</span><span class="p">),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">i_CIN</span><span class="p">),</span> <span class="p">.</span><span class="n">o_Y</span><span class="p">(</span><span class="n">o_COUT</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="c1">// 4bit KS Adder(no Cin) ----------------------------------------------------------</span>
<span class="k">module</span> <span class="n">ADDER_4</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_A</span><span class="p">,</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_B</span><span class="p">,</span>

    <span class="kt">output</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">o_SUM</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">o_Cout</span>
    <span class="p">);</span>

    <span class="kt">wire</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_G</span><span class="p">,</span> <span class="n">w_P</span><span class="p">,</span> <span class="n">w_GG</span><span class="p">;</span>

    <span class="n">BPG_4</span>     <span class="n">u000</span><span class="p">(.</span><span class="n">i_A</span><span class="p">(</span><span class="n">i_A</span><span class="p">),</span> <span class="p">.</span><span class="n">i_B</span><span class="p">(</span><span class="n">i_B</span><span class="p">),</span> <span class="p">.</span><span class="n">o_G</span><span class="p">(</span><span class="n">w_G</span><span class="p">),</span> <span class="p">.</span><span class="n">o_P</span><span class="p">(</span><span class="n">w_P</span><span class="p">));</span>
    <span class="n">GPG_4</span>     <span class="n">u001</span><span class="p">(.</span><span class="n">i_G</span><span class="p">(</span><span class="n">w_G</span><span class="p">),</span> <span class="p">.</span><span class="n">i_P</span><span class="p">(</span><span class="n">w_P</span><span class="p">),</span> <span class="p">.</span><span class="n">o_GG</span><span class="p">(</span><span class="n">w_GG</span><span class="p">));</span>
    <span class="n">SUM_4</span>     <span class="n">u002</span><span class="p">(.</span><span class="n">i_GG</span><span class="p">(</span><span class="n">w_GG</span><span class="p">),</span> <span class="p">.</span><span class="n">i_P</span><span class="p">(</span><span class="n">w_P</span><span class="p">),</span> <span class="p">.</span><span class="n">o_S</span><span class="p">(</span><span class="n">o_SUM</span><span class="p">),</span> <span class="p">.</span><span class="n">o_Cout</span><span class="p">(</span><span class="n">o_Cout</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">BPG_4</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>    <span class="n">i_A</span><span class="p">,</span> <span class="n">i_B</span><span class="p">,</span>

    <span class="kt">output</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>   <span class="n">o_G</span><span class="p">,</span> <span class="n">o_P</span>
    <span class="p">);</span>

    <span class="k">genvar</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">generate</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">begin</span>
        <span class="n">GEN_PROP_CELL</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i_A</span><span class="p">(</span><span class="n">i_A</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_B</span><span class="p">(</span><span class="n">i_B</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_G</span><span class="p">(</span><span class="n">o_G</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_P</span><span class="p">(</span><span class="n">o_P</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
    <span class="k">end</span> <span class="k">endgenerate</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">GPG_4</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>    <span class="n">i_G</span><span class="p">,</span> <span class="n">i_P</span><span class="p">,</span>

    <span class="kt">output</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>   <span class="n">o_GG</span>
    <span class="p">);</span>

	<span class="k">assign</span> <span class="n">o_GG</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">i_G</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="n">GRAY_CELL</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Y</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">HVAL_G_3I_CELL</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Ga2c</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
	<span class="n">HVAL_G_4I_CELL</span> <span class="n">u002</span><span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span>  <span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pc</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> 
						<span class="p">.</span><span class="n">i_Gd</span><span class="p">(</span><span class="n">i_G</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Ga2d</span><span class="p">(</span><span class="n">o_GG</span><span class="p">[</span><span class="mi">3</span><span class="p">]));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">SUM_4</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>    <span class="n">i_GG</span><span class="p">,</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>    <span class="n">i_P</span><span class="p">,</span>

    <span class="kt">output</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span>   <span class="n">o_S</span><span class="p">,</span>
    <span class="kt">output</span>         <span class="n">o_Cout</span>
    <span class="p">);</span>
    
	<span class="k">assign</span> <span class="n">o_S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">i_P</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="n">XOR_2I1O_CELL</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_GG</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_S</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">XOR_2I1O_CELL</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_GG</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_S</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
	<span class="n">XOR_2I1O_CELL</span> <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_P</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_GG</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_S</span><span class="p">[</span><span class="mi">3</span><span class="p">]));</span>
	<span class="k">assign</span> <span class="n">o_Cout</span> <span class="o">=</span> <span class="n">i_GG</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

<span class="k">endmodule</span>


<span class="c1">// 2bit KS Adder(no Cin) ----------------------------------------------------------</span>
<span class="k">module</span> <span class="n">ADDER_2</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_A</span><span class="p">,</span>
    <span class="kt">input</span> <span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">i_B</span><span class="p">,</span>

    <span class="kt">output</span> <span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">o_SUM</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">o_Cout</span>
    <span class="p">);</span>

    <span class="kt">wire</span> <span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w_G</span><span class="p">,</span> <span class="n">w_P</span><span class="p">,</span> <span class="n">w_GG</span><span class="p">;</span>

    <span class="c1">// BPG</span>
    <span class="k">genvar</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">generate</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">begin</span>
        <span class="n">GEN_PROP_CELL</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i_A</span><span class="p">(</span><span class="n">i_A</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_B</span><span class="p">(</span><span class="n">i_B</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_G</span><span class="p">(</span><span class="n">w_G</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_P</span><span class="p">(</span><span class="n">w_P</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
    <span class="k">end</span> <span class="k">endgenerate</span>

    <span class="c1">// GPG</span>
    <span class="k">assign</span> <span class="n">w_GG</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">w_G</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="n">GRAY_CELL</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">w_G</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">w_P</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">w_G</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o_Y</span><span class="p">(</span><span class="n">w_GG</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>

	<span class="c1">// SUM</span>
	<span class="k">assign</span> <span class="n">o_SUM</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">w_P</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="n">XOR_2I1O_CELL</span> <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w_P</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w_GG</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_SUM</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="k">assign</span> <span class="n">o_Cout</span> <span class="o">=</span> <span class="n">w_GG</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

<span class="k">endmodule</span>


<span class="c1">///////////////////////////////////////////////////////////////////////////////////</span>
<span class="c1">// Cells</span>
<span class="k">module</span> <span class="n">GRAY_CELL</span> <span class="p">(</span>
        <span class="kt">input</span> <span class="n">i_Ga</span><span class="p">,</span> <span class="n">i_Pa</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i_Gb</span><span class="p">,</span>

        <span class="kt">output</span> <span class="n">o_Y</span>
    <span class="p">);</span>

    <span class="kt">wire</span> <span class="n">w0</span><span class="p">,</span> <span class="n">w1</span><span class="p">;</span>

    <span class="n">INV</span>         <span class="n">u000</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i_Ga</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w0</span><span class="p">));</span>
    <span class="n">NAND_2I1O</span>   <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_Pa</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_Gb</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w1</span><span class="p">));</span>
    <span class="n">NAND_2I1O</span>   <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_Y</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">GEN_PROP_CELL</span> <span class="p">(</span>
        <span class="kt">input</span> <span class="n">i_A</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i_B</span><span class="p">,</span>

        <span class="kt">output</span> <span class="n">o_G</span><span class="p">,</span>
        <span class="kt">output</span> <span class="n">o_P</span>
    <span class="p">);</span>

    <span class="kt">wire</span> <span class="n">w0</span><span class="p">,</span> <span class="n">w1</span><span class="p">,</span> <span class="n">w2</span><span class="p">;</span>

    <span class="n">NAND_2I1O</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_A</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_B</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w0</span><span class="p">));</span>

    <span class="n">NAND_2I1O</span>   <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_A</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w1</span><span class="p">));</span>
    <span class="n">NAND_2I1O</span>   <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_B</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w2</span><span class="p">));</span>

    <span class="n">NAND_2I1O</span>   <span class="n">u003</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w1</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_P</span><span class="p">));</span>

    <span class="n">INV</span>         <span class="n">u004</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_G</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">HVAL_G_3I_CELL</span> <span class="p">(</span>
        <span class="kt">input</span> <span class="n">i_Ga</span><span class="p">,</span> <span class="n">i_Pa</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i_Gb</span><span class="p">,</span> <span class="n">i_Pb</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i_Gc</span><span class="p">,</span>

        <span class="kt">output</span> <span class="n">o_Ga2c</span>
    <span class="p">);</span>

    <span class="kt">wire</span> <span class="n">w0</span><span class="p">,</span> <span class="n">w1</span><span class="p">,</span> <span class="n">w2</span><span class="p">;</span>

    <span class="n">NAND_3I1O</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_Pa</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_Pb</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_Gc</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w0</span><span class="p">));</span>
    <span class="n">NAND_2I1O</span>   <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_Pa</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_Gb</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w1</span><span class="p">));</span>
    <span class="n">INV</span>         <span class="n">u002</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i_Ga</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w2</span><span class="p">));</span>

    <span class="n">NAND_3I1O</span>   <span class="n">u003</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_Ga2c</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">HVAL_G_4I_CELL</span> <span class="p">(</span>
        <span class="kt">input</span> <span class="n">i_Ga</span><span class="p">,</span> <span class="n">i_Pa</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i_Gb</span><span class="p">,</span> <span class="n">i_Pb</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i_Gc</span><span class="p">,</span> <span class="n">i_Pc</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i_Gd</span><span class="p">,</span>

        <span class="kt">output</span> <span class="n">o_Ga2d</span>
    <span class="p">);</span>

    <span class="kt">wire</span> <span class="n">w0</span><span class="p">,</span> <span class="n">w1</span><span class="p">,</span> <span class="n">w2</span><span class="p">,</span> <span class="n">w3</span><span class="p">;</span>

    <span class="n">NAND_4I1O</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_Pa</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_Pb</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_Pc</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_Gd</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w0</span><span class="p">));</span>
    <span class="n">NAND_3I1O</span>   <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_Pa</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_Pb</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_Gc</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w1</span><span class="p">));</span>
    <span class="n">NAND_2I1O</span>   <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_Pa</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_Gb</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w2</span><span class="p">));</span>
    <span class="n">INV</span>         <span class="n">u003</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i_Ga</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w3</span><span class="p">));</span>

    <span class="n">NAND_4I1O</span>   <span class="n">u004</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w2</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">w3</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_Ga2d</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">HVAL_B_4I_CELL</span> <span class="p">(</span>
        <span class="kt">input</span> <span class="n">i_Ga</span><span class="p">,</span> <span class="n">i_Pa</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i_Gb</span><span class="p">,</span> <span class="n">i_Pb</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i_Gc</span><span class="p">,</span> <span class="n">i_Pc</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i_Gd</span><span class="p">,</span> <span class="n">i_Pd</span><span class="p">,</span>

        <span class="kt">output</span> <span class="n">o_Ga2d</span><span class="p">,</span> <span class="n">o_Pa2d</span>
    <span class="p">);</span>

    <span class="kt">wire</span> <span class="n">w0</span><span class="p">;</span>

    <span class="n">HVAL_G_4I_CELL</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i_Ga</span><span class="p">(</span><span class="n">i_Ga</span><span class="p">),</span> <span class="p">.</span><span class="n">i_Pa</span><span class="p">(</span><span class="n">i_Pa</span><span class="p">),</span> <span class="p">.</span><span class="n">i_Gb</span><span class="p">(</span><span class="n">i_Gb</span><span class="p">),</span> <span class="p">.</span><span class="n">i_Pb</span><span class="p">(</span><span class="n">i_Pb</span><span class="p">),</span> <span class="p">.</span><span class="n">i_Gc</span><span class="p">(</span><span class="n">i_Gc</span><span class="p">),</span> <span class="p">.</span><span class="n">i_Pc</span><span class="p">(</span><span class="n">i_Pc</span><span class="p">),</span> <span class="p">.</span><span class="n">i_Gd</span><span class="p">(</span><span class="n">i_Gd</span><span class="p">),</span> <span class="p">.</span><span class="n">o_Ga2d</span><span class="p">(</span><span class="n">o_Ga2d</span><span class="p">));</span>

    <span class="n">NAND_4I1O</span>   <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i_Pa</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i_Pb</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i_Pc</span><span class="p">),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">i_Pd</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w0</span><span class="p">));</span>
    <span class="n">INV</span>         <span class="n">u002</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o_Pa2d</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">COMP_4to2_C_CELL</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i2</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i3</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">Cin</span><span class="p">,</span>

    <span class="kt">output</span> <span class="n">o</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">Cout</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">Carry</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="n">w0</span><span class="p">;</span>

	<span class="n">XOR_3I1O_CELL</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w0</span><span class="p">));</span>
	<span class="n">MAJ_3I1O_CELL</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">Cout</span><span class="p">));</span>

	<span class="n">XOR_3I1O_CELL</span> <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i3</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">Cin</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>
	<span class="n">MAJ_3I1O_CELL</span> <span class="n">u003</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i3</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">Cin</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">Carry</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">COMP_4to2_CELL</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i2</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i3</span><span class="p">,</span>

    <span class="kt">output</span> <span class="n">o</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">Cout</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">Carry</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="n">w0</span><span class="p">;</span>

	<span class="n">XOR_3I1O_CELL</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w0</span><span class="p">));</span>
	<span class="n">MAJ_3I1O_CELL</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">Cout</span><span class="p">));</span>

	<span class="n">XOR_2I1O_CELL</span> <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i3</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>
	<span class="n">MAJ_2I1O_CELL</span> <span class="n">u003</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i3</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">Carry</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">COMP_3to2_C_CELL</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i2</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">Cin</span><span class="p">,</span>

    <span class="kt">output</span> <span class="n">o</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">Cout</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">Carry</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="n">w0</span><span class="p">;</span>

	<span class="n">XOR_3I1O_CELL</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w0</span><span class="p">));</span>
	<span class="n">MAJ_3I1O_CELL</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">Cout</span><span class="p">));</span>

	<span class="n">XOR_2I1O_CELL</span> <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">Cin</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>
	<span class="n">MAJ_2I1O_CELL</span> <span class="n">u003</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">Cin</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">Carry</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">COMP_3to2_CELL</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i2</span><span class="p">,</span>

    <span class="kt">output</span> <span class="n">o</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">Cout</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="n">w0</span><span class="p">;</span>

	<span class="n">XOR_3I1O_CELL</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>
	<span class="n">MAJ_3I1O_CELL</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">Cout</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">COMP_2to2_C_CELL</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">Cin</span><span class="p">,</span>

    <span class="kt">output</span> <span class="n">o</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">Cout</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="n">w0</span><span class="p">;</span>

	<span class="n">XOR_3I1O_CELL</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">Cin</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>
	<span class="n">MAJ_3I1O_CELL</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">Cin</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">Cout</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">COMP_2to2_CELL</span> <span class="p">(</span>
    <span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
    <span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>

    <span class="kt">output</span> <span class="n">o</span><span class="p">,</span>
    <span class="kt">output</span> <span class="n">Cout</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="n">w0</span><span class="p">;</span>

	<span class="n">XOR_2I1O_CELL</span> <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>
	<span class="n">MAJ_2I1O_CELL</span> <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">Cout</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">MAJ_3I1O_CELL</span> <span class="p">(</span>
	<span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i2</span><span class="p">,</span>

	<span class="kt">output</span> <span class="n">o</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="p">[</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span><span class="n">w</span><span class="p">;</span>

	<span class="n">NAND_2I1O</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">NAND_2I1O</span>   <span class="n">u001</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">NAND_2I1O</span>   <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>

	<span class="n">NAND_3I1O</span>   <span class="n">u003</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">MAJ_2I1O_CELL</span> <span class="p">(</span>
	<span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>

	<span class="kt">output</span> <span class="n">o</span>
	<span class="p">);</span>

	<span class="n">AND_2I1O</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">XOR_3I1O_CELL</span> <span class="p">(</span>
	<span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i2</span><span class="p">,</span>

	<span class="kt">output</span> <span class="n">o</span>
    <span class="p">);</span>

	<span class="kt">wire</span> <span class="n">i0_inv</span><span class="p">,</span> <span class="n">i1_inv</span><span class="p">,</span> <span class="n">i2_inv</span><span class="p">;</span>
	<span class="kt">wire</span> <span class="p">[</span><span class="mi">3</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">w</span><span class="p">;</span>

    <span class="n">INV</span>			<span class="n">u000</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">i0_inv</span><span class="p">));</span>
    <span class="n">INV</span>			<span class="n">u001</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">i1_inv</span><span class="p">));</span>
	<span class="n">INV</span>			<span class="n">u002</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">i2_inv</span><span class="p">));</span>

	<span class="n">NAND_3I1O</span>   <span class="n">u003</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
	<span class="n">NAND_3I1O</span>   <span class="n">u004</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
	<span class="n">NAND_3I1O</span>   <span class="n">u005</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
	<span class="n">NAND_3I1O</span>   <span class="n">u006</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">i2_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]));</span>

	<span class="n">NAND_4I1O</span>   <span class="n">u007</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">.</span><span class="n">i2</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">.</span><span class="n">i3</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">XOR_2I1O_CELL</span> <span class="p">(</span>
        <span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
        <span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>
        <span class="kt">output</span> <span class="n">o</span>
    <span class="p">);</span>

    <span class="kt">wire</span> <span class="n">i0_inv</span><span class="p">,</span> <span class="n">i1_inv</span><span class="p">,</span> <span class="n">w0</span><span class="p">,</span> <span class="n">w1</span><span class="p">;</span>

    <span class="n">INV</span>			<span class="n">u000</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">i0_inv</span><span class="p">));</span>
    <span class="n">INV</span>			<span class="n">u001</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">i1_inv</span><span class="p">));</span>

    <span class="n">NAND_2I1O</span>   <span class="n">u002</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w0</span><span class="p">));</span>
    <span class="n">NAND_2I1O</span>   <span class="n">u003</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i0_inv</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w1</span><span class="p">));</span>

    <span class="n">NAND_2I1O</span>   <span class="n">u004</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">w1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">AND_2I1O</span> <span class="p">(</span>
	<span class="kt">input</span> <span class="n">i0</span><span class="p">,</span>
	<span class="kt">input</span> <span class="n">i1</span><span class="p">,</span>

	<span class="kt">output</span> <span class="n">o</span>
	<span class="p">);</span>

	<span class="kt">wire</span> <span class="n">w0</span><span class="p">;</span>
	<span class="n">NAND_2I1O</span>   <span class="n">u000</span><span class="p">(.</span><span class="n">i0</span><span class="p">(</span><span class="n">i0</span><span class="p">),</span> <span class="p">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">w0</span><span class="p">));</span>
	<span class="n">INV</span> 		<span class="n">u001</span><span class="p">(.</span><span class="n">i</span><span class="p">(</span><span class="n">w0</span><span class="p">),</span> <span class="p">.</span><span class="n">o</span><span class="p">(</span><span class="n">o</span><span class="p">));</span>

<span class="k">endmodule</span>


<span class="c1">///////////////////////////////////////////////////////////////////////////////////</span>
<span class="c1">// Don't modify the following primitive logic gates</span>

<span class="k">module</span> <span class="n">NAND_2I1O</span> <span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>
<span class="kt">input</span> <span class="n">i0</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i1</span><span class="p">;</span>
<span class="kt">output</span> <span class="n">o</span><span class="p">;</span>

<span class="k">assign</span> <span class="p">#(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span> <span class="n">o</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">i0</span> <span class="o">&amp;</span> <span class="n">i1</span><span class="p">);</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">NAND_3I1O</span> <span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>
<span class="kt">input</span> <span class="n">i0</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i1</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i2</span><span class="p">;</span>
<span class="kt">output</span> <span class="n">o</span><span class="p">;</span>

<span class="k">assign</span> <span class="p">#(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)</span> <span class="n">o</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">i0</span> <span class="o">&amp;</span> <span class="n">i1</span> <span class="o">&amp;</span> <span class="n">i2</span><span class="p">);</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">NAND_4I1O</span> <span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">i3</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>
<span class="kt">input</span> <span class="n">i0</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i1</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i2</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i3</span><span class="p">;</span>
<span class="kt">output</span> <span class="n">o</span><span class="p">;</span>

<span class="k">assign</span> <span class="p">#(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)</span> <span class="n">o</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">i0</span> <span class="o">&amp;</span> <span class="n">i1</span> <span class="o">&amp;</span> <span class="n">i2</span> <span class="o">&amp;</span> <span class="n">i3</span><span class="p">);</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">NOR_2I1O</span> <span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>
<span class="kt">input</span> <span class="n">i0</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i1</span><span class="p">;</span>
<span class="kt">output</span> <span class="n">o</span><span class="p">;</span>

<span class="k">assign</span> <span class="p">#(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span> <span class="n">o</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">i0</span> <span class="o">|</span> <span class="n">i1</span><span class="p">);</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">NOR_3I1O</span> <span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>
<span class="kt">input</span> <span class="n">i0</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i1</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i2</span><span class="p">;</span>
<span class="kt">output</span> <span class="n">o</span><span class="p">;</span>

<span class="k">assign</span> <span class="p">#(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span> <span class="n">o</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">i0</span> <span class="o">|</span> <span class="n">i1</span> <span class="o">|</span> <span class="n">i2</span><span class="p">);</span>

<span class="k">endmodule</span>

<span class="k">module</span> <span class="n">NOR_4I1O</span> <span class="p">(</span><span class="n">i0</span><span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">i3</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>
<span class="kt">input</span> <span class="n">i0</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i1</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i2</span><span class="p">;</span>
<span class="kt">input</span> <span class="n">i3</span><span class="p">;</span>
<span class="kt">output</span> <span class="n">o</span><span class="p">;</span>

<span class="k">assign</span> <span class="p">#(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span> <span class="n">o</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">i0</span> <span class="o">|</span> <span class="n">i1</span> <span class="o">|</span> <span class="n">i2</span> <span class="o">|</span> <span class="n">i3</span><span class="p">);</span>

<span class="k">endmodule</span>


<span class="k">module</span> <span class="n">INV</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">o</span><span class="p">);</span>
<span class="kt">input</span> <span class="n">i</span><span class="p">;</span>
<span class="kt">output</span> <span class="n">o</span><span class="p">;</span>

<span class="k">assign</span> <span class="p">#(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span> <span class="n">o</span> <span class="o">=</span> <span class="o">~</span><span class="n">i</span><span class="p">;</span>

<span class="k">endmodule</span>


</code></pre></div></div>

            </div>
            <td></td>
            <!-- <div class="tag_title">
            </div>

            <div class="tag_label">
            </div> -->

            <div class="comment_box">
                <script src="https://utteranc.es/client.js"
                        repo="radic2682/radic2682.github.io"
                        issue-term="pathname"
                        theme="github-light"
                        crossorigin="anonymous"
                        async>
                </script>
            </div>

        </div>

    </div>

    <!-- HTML -->
    <div id="postModal">
        <div class="menu_close_btn">
            <img width="64" height="64" src="https://img.icons8.com/sf-black-filled/64/x.png" alt="x" onclick="closeModal()"/>
        </div>

        <div class="main_img">
            <img class="left" width="96" height="96" src="https://img.icons8.com/fluency/96/left.png" alt="left" onclick="leftModal()"/>
            <div></div>
            <img class="right" width="96" height="96" src="https://img.icons8.com/fluency/96/right.png" alt="right" onclick="rightModal()"/>
        </div>
        <div class="all_img"></div>
    </div>

</div>

<div class="table_contents">
    <div class="table_contents_btn" onclick="table_close_click()"><p>C</p></div>
    <p class="table_title">Contents</p>
    <div class="table_content_inner"></div>
</div>




<script src="/assets/js/add_img_in_li.js"></script>
<script src="/assets/js/add_language_in_codeBlock.js"></script>
<script src="/assets/js/tableContents.js"></script>
<script src="/assets/js/postModal.js"></script>
 </div>
          
          <div class="page_footer">
    <p>© Copyright 2023 Sun Hong</p>
</div>

        </div>
      </div>
    </div>

    <script src="/assets/js/srollbar.js"></script>
    <script src="/assets/js/top_nav.js"></script>
    <script src="/assets/js/sidebar.js"></script>
    
    
  </body>
</html>

